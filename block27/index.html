<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <form action=" mailto:some-fake-@email.com">
    <label for="username">Username </label>
    <input type="text" name="username" value="">
    <label for="password">Password </label>
    <input type="text" name="password" value="">
    <input type="submit" value="submit"/>




    </form>
</body>
</html>

import {  BrowserRouter, Routes, Route,Link } from 'react-router-dom';
import { useState, useEffect} from 'react';
import bookLogo from './assets/books.png';
import Navigations from './components/Navigations';
import Books from './components/Books';
import Account from './components/Account';
import Login from './components/Login';
import Register from './components/Register';


function App() {
  const [token, setToken] = useState(null);

  return (
    <BrowserRouter>
      <div>
        <h1><img id='logo-image' src={bookLogo} alt="Library Logo" />Library App</h1>

        <p>Complete the React components needed to allow users to browse a library catalog, check out books, review their account, and return books that they've finished reading.</p>

        <p>You may need to use the `token` in this top-level component in other components that need to know if a user has logged in or not.</p>

        <p>Don't forget to set up React Router to navigate between the different views of your single page application!</p>
        <Navigations isAuthenticated={token !== null} />
       <Routes>
          <Route path="/">
            
          </Route>
          <Route path="/"element={<Account />}>
            <Account isAuthenticated={token !== null} />
          </Route>
          <Route path="/"element={<Login/>}>
            <Login setToken={setToken} />
          </Route>
          <Route path="/"element={<Register/>}>
            <Register setToken={setToken} />
          </Route>
          </Routes>
      </div>
    </BrowserRouter>
  );
}


export default App;

import { useState, useEffect} from 'react';
import { BrowserRouter as Router, Route, Routes, Link  } from 'react-router-dom';
import bookLogo from './assets/books.png';
import Navigations from './components/Navigations';
import Books from './components/Books';
import Account from './components/Account';
import Login from './components/Login';
import Register from './components/Register';


function App() {
  const [token, setToken] = useState(null);

  return (
    <Router>
      <div>
        <h1><img id='logo-image' src={bookLogo} alt="Library Logo" />Library App</h1>
        <Navigations isAuthenticated={token !== null} />
        <Routes>
          
          <Route path="/"element={<Account />}>
            <Account isAuthenticated={token !== null} />
          </Route>
          <Route path="/"element={<Login/>}>
            <Login setToken={setToken} />
          </Route>
          <Route path="/"element={<Register/>}>
            <Register setToken={setToken} />
          </Route>
          </Routes>
      </div>
    </Router>
  );
}


export default App;


fetch('/api/users/register', {
    method: "POST",
    headers: {
      'Content-Type': 'application/json',
    },
    body: JSON.stringify({
      firstname: 'Sam',
      lastname: 'Smith',
      email: 'ssmith@example.com',
      password: 'sam345'
    })
  }).then(response => response.json())
    .then(result => {
      console.log(result);
    })
    .catch(console.error);


    <ul>
        {books.map(book => (
          <li key={book.id}>
            <Link to={`/books/${book.id}`}>{book.title}</Link>
          </li>
        ))}
      </ul>
      

      import React, { useState, useEffect } from 'react';
import { useParams } from 'react-router-dom';


export function SingleBook  () {
  const [book, setBook] = useState(null);
  const [error, setError] = useState(null);
  const {bookId} = useParams();

  useEffect(() => {
    async function fetchSingleBook  () {
      try {
        const response = await fetch(`https://fsa-book-buddy-b6e748d1380d.herokuapp.com/api/books/${bookId}`);
        if (!response.ok) {
          throw new Error('Failed to fetch book');
        }
        const result = await response.json();
        setBook(result.book);
      } catch (error) {
        console.error(error);
      }
    };

    fetchBook();
  }, [])

  const handleCheckout = async () => {
    try {
      const response = await fetch(`/api/books/${bookId}`, {
        method: 'PATCH',
        body: JSON.stringify({
          available: false,
        }),
      });
      const result = await response.json();
      console.log(result);
    } catch (error) {
      console.error(error);
    }
  };

  return (
    <>
     
      
     
        <div>
            <img className="coverImage" src={book.coverimage}/>
          <h2>{book.title}</h2>
          <h2> {book.author}</h2>
          <p> {book.description}</p>
          {book.available ? (
            <button onClick={handleCheckout}>Checkout</button>
          ) : (
            <p>This book is currently not available for checkout.</p>
          )}
        </div>
      
    </>
  );
};

export default SingleBook;



import  { useState,useEffect} from 'react';
import { useNavigate } from 'react-router-dom';


const Register= ({setToken}) => {
  const [username, setUsername] = useState('');
  // const [email, setEmail] = useState('');
  const [password, setPassword] = useState('');
  const [error, setError] = useState(null);
  const[isLoggedIn, setIsLoggedIn] =useState(false)
  const navigate= useNavigate()

  const handleSubmit = async (event) => {
    event.preventDefault();
    

    try {
        const response = await fetch(
         'https://fsa-book-buddy-b6e748d1380d.herokuapp.com/api/users/register',
          {
            method: 'POST',
            headers: {
              'Content-Type': 'application/json',
           },
            body: JSON.stringify({ email:username, password }),
          }
        );

        const result = await response.json();
            setSuccessMessage(result.message);
          setToken(result.token)

        if(response.status === 200) {
          setIsLoggedIn( true)
        }
        
      } catch (err) { 
        //setError(error.message);
      }
    };
  
    useEffect(()=> {
      console.log({isLoggedIn})
      if(isLoggedIn) {
      navigate("/account")
      }
    },[isLoggedIn])
  return (
    <div>
      <h2>Register</h2>
      <h3>Please fill in this form to create an account</h3>
      {error && <p>{error}</p>}
      <form onSubmit={handleSubmit}>
        <div>
          <label htmlFor="username">Username:</label>
          <input
            type="text"
            id="username"
            value={username}
            onChange={(e) => setUsername(e.target.value)}
            required
          />
        </div>
       
        <div>
          <label htmlFor="password">Password:</label>
          <input
            type="password"
            id="password"
            value={password}
            onChange={(e) => setPassword(e.target.value)}
            required
          />
        </div>
        <button type="submit">Register</button>
       
      </form>
    </div>
  );
};

export default Register;
   



block 31 
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Employee Form</title>

</head>
<body>
<div class="container">
    <h1>Employee Information</h1>
    <form id="employeeForm">
        <label for="employeeId">Employee ID:</label>
        <input type="number" id="employeeId" required>

        <label for="employeeName">Name:</label>
        <input type="text" id="employeeName" maxlength="50" required>

        <label for="isAdmin">Administrator:</label>
        <input type="checkbox" id="isAdmin">

        <input type="submit" value="Submit">
    </form>
</div>


</body>
</html>


body {
    font-family: Arial, sans-serif;
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

.container {
    max-width: 600px;
    margin: 0 auto;
    padding: 20px;
}

input[type="text"], input[type="number"], input[type="checkbox"] {
    width: 100%;
    padding: 10px;
    margin: 5px 0;
    box-sizing: border-box;
}

input[type="submit"] {
    background-color: dodgerblue;
    color: white;
    padding: 10px 20px;
    border: none;
    cursor: pointer;
}

input[type="submit"]:hover {
    background-color: #4CAF50;
}



const form = document.getElementById("employeeForm");

form.addEventListener("submit", function(event) {
    event.preventDefault();
    const employeeId = document.getElementById("employeeId").value;
    const employeeName = document.getElementById("employeeName").value;
    const isAdmin = document.getElementById("isAdmin").checked;

    console.log("Employee ID: " + employeeId);
    console.log("Name: " + employeeName);
    console.log("Is Administrator: " + isAdmin);
});





const express = require("express");
const pg = require("pg");
const path = require("path");
const app = express();
const client = new pg.Client(process.env.DATABASE_URL || "postgres://localhost/acme_hr_db");

// static routes here (you only need these for deployment)
app.use(express.static(path.join(__dirname, "../client/dist")));

// app routes here
app.get("/", (req, res, next) =>
{
	res.send(express.static(path.join(__dirname, "../client/dist/index.html")));
});

app.get("/api/employees", async (req, res, next) =>
{
	try
	{
		const sql = `
			select * from employees;
		`;
		const response = await client.query(sql);
		res.send(response.rows);
	}
	catch (err)
	{
		console.log(err);
	}
});

// create your init function
const init = async () =>
{
	console.log("connecting to db");
	await client.connect();
	console.log("connected to db");

	console.log("seeding db");
	const SQL = `
		DROP TABLE IF EXISTS employees;
		CREATE TABLE employees(
			id SERIAL PRIMARY KEY,
			name VARCHAR(255),
			is_admin BOOLEAN
		);

		INSERT INTO employees
		(name, is_admin)
		VALUES ('steven', true),
					 ('employee1', false),
					 ('employee2', false),
					 ('manager', true);
	`;
	await client.query(SQL);
	console.log("finish seeding db");

	const PORT = process.env.PORT || 3000;
	app.listen(PORT, () =>
	{
		console.log(`listening on port ${PORT}`);
	});
};

// init function invocation
init();










block31 ws
 const express = require('express');
const app = express();
const path = require('path');
const pg = require('pg');

const client = new pg.Client(process.env.DATABASE_URL || 'postgres:');

//const client = new pg.Client(process.env.DATABASE_URL || 'postgres:')

// Serve static assets
app.use(express.static(path.join(__dirname, '..client/dist')));

//Routes
app.get('/', (req, res) => {
    res.sendFile(path.join(__dirname, '../dist/index.html'));
  });
  
app.get('/api/employees', async (req, res, next) => {
    try {
      const SQL = 'SELECT * FROM employees;'
       const response = await client.query(SQL);
       res.send(response.rows);
    } catch (err) {
      next(err);
    }
})
const init = async() => {
    await client.connect();

    const SQL = `
    DROP TABLE IF EXISTS notes;
    CREATE TABLE notes(
      id SERIAL PRIMARY KEY,
      txt VARCHAR(255),
     starred BOOLEAN DEFAULT FALSE
    );
    INSERT INTO notes(txt, starred) VALUES('learn express', false);
    INSERT INTO notes(txt, starred) VALUES('write SQL queries', true);
   INSERT INTO notes(txt) VALUES('create routes');
  `;

    

    await client.query(SQL);
    console.log('data seeded');
    const PORT = process.env.PORT || 3000;

    app.listen(PORT, () => {
     console.log(`listening on port ${PORT}`)
    })
  }
  
  init();

//const PORT = process.env.PORT || 3000;



// Middleware to parse JSON requests








// static routes here (you only need these for deployment)

// app routes here

// create your init function

// init function invocation


block32
const express = require('express');
const app = express();
//const path = require('path');
const pg = require('pg');

const client = new pg.Client(process.env.DATABASE_URL || 'postgres://localhost/acme_flavors_db')

//app routes
app.use(express.json());
app.use(require('morgan')('dev'));
app.post('/api/flavors', async (req, res, next) => {});
app.get('/api/flavors', async (req, res, next) => {
    try{
        const SQL = `SELECT * from flavors ORDER BY created_at DESC;`
        const result = await client.query(SQL)
         res.send(result.rows)

    }catch(error) {
        next(error)

    } 
});
app.put('/api/flavors/:id', async (req, res, next) => {});
app.delete('/api/flavors/:id', async (req, res, next) => {});
     

const init  = async() => {
    await client.connect();
    console.log('connect to database')
    const SQL  = `DROP TABLE IF EXISTS flavors;
    CREATE TABLE flavors(
    id SERIAL PRIMARY KEY,
    created_at TIMESTAMP DEFAULT now(),
    updated_at TIMESTAMP DEFAULT now(),
    is_favorite INTEGER DEFAULT 3 NOT NULL,
    name VARCHAR(255) NOT NULL
    );`
    await client.query( SQL)
    console.log('table created')
    SQL = `INSERT INTO flavors(name, is_favorite) VALUES('orange', 5);
    INSERT INTO flavors(name, is_favorite) VALUES('mango', 4);
    INSERT INTO favors(name, is_favorite) VALUES('vanilla', 2);`;
    await client.query( SQL);
    console.log('data seeded')

    const port = process.env.PORT || 3000
    app.listen(port, () => console.log(`listening on port ${port}`))
    

    
}
init();